# TechSupport API
API —Å–∏—Å—Ç–µ–º—ã –æ–±—Ä–∞—â–µ–Ω–∏—è –≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É.

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#abilities)
  -  [üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —á–∞—Å—Ç—å](#users)
  -  [üõ† –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å](#admin)
- [üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#safety)  
- [‚ö° –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å](#performance)  
- [‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](#tools)
  - [üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏](#packages)
- [üìë –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API](#docs)  
- [üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#structure)  
- [üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞](#setup)  


<a name="abilities"></a> 
## üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
<a name="users"></a> 
### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è —á–∞—Å—Ç—å
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ email/–ø–∞—Ä–æ–ª—é
- –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
- –°–æ–∑–¥–∞–Ω–∏–µ –æ–±—Ä–∞—â–µ–Ω–∏—è:
  - –¢–µ–º–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –æ–ø–∏—Å–∞–Ω–∏–µ
  - –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –ª–æ–≥–∏ –∏ —Ç.–¥.)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞—è–≤–æ–∫ –ø–æ —Å—Ç–∞—Ç—É—Å—É
- –ö–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—è–≤–æ–∫
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:
  - Email-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
  - –í–Ω—É—Ç—Ä–∏—Å–∏—Å—Ç–µ–º–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (—á–µ—Ä–µ–∑ WebSocket)

<a name="admin"></a> 
### üõ† –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å

#### –î–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏:
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞—è–≤–∫–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏—è—Ö

#### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π (—Å–æ–∑–¥–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ)
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å—Ç–æ—Ä–∏–∏ –æ–±—Ä–∞—â–µ–Ω–∏–π
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–æ–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å/—Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏)

<a name="safety"></a> 
## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏, –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ ORM-–∑–∞–ø—Ä–æ—Å–æ–≤, –±–µ–∑ —Å—ã—Ä–æ–≥–æ SQL
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ç–æ—Ä–∞—Ö (–æ—á–∏—Å—Ç–∫–∞ –æ—Ç –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö html-—Ç–µ–≥–æ–≤) –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç XSS
- –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π, —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ö—ç—à–µ–π
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ç–∏–ø—É, –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∏ —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–æ–≤ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–ª–æ–∂–µ–Ω–∏–π –∫ –æ–±—Ä–∞—â–µ–Ω–∏—è–º

<a name="performance"></a> 
## ‚ö°–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Redis
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á —á–µ—Ä–µ–∑ Celery

<a name="tools"></a> 
## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

- **Python** (**Django** + **Django REST Framework**)
- **PostgreSQL**
- **Redis**
- **Docker** + **Docker Compose**
- **Nginx**
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤: –ª–æ–∫–∞–ª—å–Ω–æ–µ

<a name="packages"></a> 
### üì¶ –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `Django` ‚Äî –æ—Å–Ω–æ–≤–∞ –ø—Ä–æ–µ–∫—Ç–∞, –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫.
- `Django REST Framework` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ API –Ω–∞ Django.
- `Poetry` ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏. 
- `Django Channels` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ WebSocket –∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.
- `channels-redis` ‚Äî Redis –¥–ª—è —Ä–∞–±–æ—Ç—ã Django Channels.
- `Celery` ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á.
- `django-redis` ‚Äî –∫—ç—à –∏ –æ—á–µ—Ä–µ–¥–∏ —á–µ—Ä–µ–∑ Redis.
- `Uvicorn` ‚Äî ASGI-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ (ASGI-—Å–µ—Ä–≤–µ—Ä –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Django Channels)
- `psycopg2` ‚Äî –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.
- `python-dotenv` ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–∑ `.env` —Ñ–∞–π–ª–∞.
- `Djoser` ‚Äî —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è.
- `drf-spectacular` ‚Äî –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ API.
- `djangorestframework-simplejwt` ‚Äî JWT-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è.
- `django-cors-headers` ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ CORS-–∑–∞–≥–æ–ª–æ–≤–∫–æ–≤.
- `django-filter` ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ API.
- `filetype` ‚Äî –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ —Ñ–∞–π–ª–æ–≤.
- `nh3` ‚Äî –æ—á–∏—Å—Ç–∫–∞ HTML –æ—Ç –æ–ø–∞—Å–Ω–æ–≥–æ –∫–æ–¥–∞ (–∑–∞—â–∏—Ç–∞ –æ—Ç XSS).
- `websockets` ‚Äî —Ä–∞–±–æ—Ç–∞ —Å WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏.
- `pytest` ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- `pytest-django`, `pytest-asyncio`, `pytest-mock` ‚Äî –ø–ª–∞–≥–∏–Ω—ã Pytest.

<a name="docs"></a> 
## üìë –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

### Swagger UI

–î–æ—Å—Ç—É–ø–µ–Ω –ø–æ URL: `/api/v1/schema/swagger-ui`

**–ö—Ä–∞—Ç–∫–∞—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è:**

![techsupport_api](https://github.com/user-attachments/assets/bb222f5b-9dcb-43d7-b598-d0dd2af7fbdf)


–ú–µ—Ç–æ–¥—ã API –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å–∞–Ω—ã –≤ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.


<a name="structure"></a> 
## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
- `techsupport` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- `users` - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `tickets` - –æ–±—Ä–∞—â–µ–Ω–∏—è, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- `custom_admin` - –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.
- `notifications` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ WebSocket
`api` - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ OpenAPI-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

### –ü—Ä–æ—á–µ–µ:
- `tests` - unit-—Ç–µ—Å—Ç—ã
- `docker` - shell-—Å–∫—Ä–∏–ø—Ç—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx
- `media` - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ (–≤–ª–æ–∂–µ–Ω–∏—è –∫ –æ–±—Ä–∞—â–µ–Ω–∏—è–º)

<a name="setup"></a> 
## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ß–µ—Ä–µ–∑ Docker

```
git clone https://github.com/nshib00/techsupport-app.git
`cd techsupport
docker-compose up -d --build
```

**–°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è**:

`docker-compose exec web python manage.py createsuperuser`

---

### –õ–æ–∫–∞–ª—å–Ω–æ (–≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ Poetry)

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```
git clone https://github.com/nshib00/techsupport-app.git
poetry install
poetry env activate
<–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –≤—Å—Ç–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥—ã, –∫–æ—Ç–æ—Ä—É—é –≤—ã–¥–∞—Å—Ç poetry env activate>
```

#### –ó–∞–ø—É—Å–∫:

**Uvicorn**:
`uvicorn techsupport.asgi:application --host 127.0.0.1 --port 9000 --reload`

> –í–º–µ—Å—Ç–æ 9000 –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç.

**Redis**:
`redis-cli`

> Redis –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.

**Celery**:

Unix:

`celery -A techsupport worker --loglevel=info`

Windows:

`celery -A techsupport worker --loglevel=info --pool=solo`
